@PART[NP_lfe_25m_NERVA]:FINAL
{
	!mesh
	@rescaleFactor = 1
	MODEL
	{
		model = NovaPunch2/Parts/Engines/NP_LFE_2_5m_NERVA/model
		scale = 2.5, 2.5, 2.5
	}
	MODEL
	{
		model = RealismOverhaul/emptyengine
		position = 0.0, -4, 0.0
	}

	@maxTemp = 2200
	@description = A solid core nuclear rocket engine with high fuel efficiency and low thrust. Intended for use in upper stages and exoatmospheric conditions, it runs on Liquid Hydrogen (LH2). This is the deluxe model that includes a radiation shield to improve crew morale and a togglable postcore Liquid Oxygen (LOX) injector. Please try not to smear fissile material all over the landscape, it's bad for property prices around the spaceport.

	!fx_exhaustFlame_blue 
	!fx_exhaustLight_blue
	!fx_smokeTrail_light
	!sound_vent_medium
	!sound_rocket_hard
	!sound_vent_soft
	!sound_explosion_low

	EFFECTS
	{
		powerflame
		{
			MODEL_MULTI_PARTICLE_PERSIST
			{
				name = flamethrust
				modelName = MP_Nazari/FX/KWflamesmall
				transformName = newThrustTransform
				emission = 0.0 1.75
				emission = 1.0 1.75
				speed = 0.0 3
				speed = 1.0 3
				energy = 0.0 0.99 // Same for energy
				energy = 1.0 0.99 // Same for energy
				size = 0.0 1
				size = 1.0 1
				scale = 0.0 3.75
				scale = 1.0 3.75
				offset = 0.0 0
				offset = 1.0 0
				fixedEmissions = false

				logGrow
				{
					density = 1.0 0.0
					density = 0.0 25
				}
				linGrow
				{
					density = 1.0 -2.5
					density = 0.0 0.5
				}
				randomInitalVelocityOffsetMaxRadius = 1
			}
			AUDIO
			{
				channel = Ship
				clip = sound_rocket_hard
				volume = 0.0 0.0
				volume = 0.001 1
				volume = 1.0 1
				pitch = 0.0 1
				pitch = 1.0 1
				loop = true
			}
		}
		engage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_medium
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		disengage
		{
			AUDIO
			{
				channel = Ship
				clip = sound_vent_soft
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
		flameout
		{
			AUDIO
			{
				channel = Ship
				clip = sound_explosion_low
				volume = 1.0
				pitch = 2.0
				loop = false
			}
		}
	}
	@MODULE[ModuleGimbal]
	{
		@gimbalRange = 6
		@gimbalTransformName = newThrustTransform
		%useGimbalResponseSpeed = true
		%gimbalResponseSpeed = 16
	}

	@MODULE[ModuleEngines*]
	{
		@name = ModuleEnginesFX
		!runningEffectName
		%directThrottleEffectName = powerflame

		@thrustVectorTransformName = newThrustTransform

		@maxThrust = 300
		@heatProduction = 150
		@PROPELLANT[LiquidFuel]
		{
			@name = LiquidH2
			@ratio = 1.0
			@DrawGauge = True
		}
		@PROPELLANT[Oxidizer]
		{
			@name = nuclearFuel
			@ratio = 0.0000000001
		}
		@atmosphereCurve
		{
			@key,0 = 0 900
			@key,1 = 1 550
		}
	}
	
	MODULE
	{
		name = ModuleEngineConfigs
		origMass = 11
		modded = false
		configuration = LiquidH2
		CONFIG
		{
			name = LiquidH2
			minThrust = 0
			maxThrust = 300
			heatProduction = 175
			PROPELLANT
			{
				name = LiquidH2
				ratio = 1.0
				DrawGauge = True
			}
			PROPELLANT
			{
				name = nuclearFuel
				ratio = 0.0000000001
			}
			atmosphereCurve
			{
				key = 0 900
				key = 1 550
			}
			massMult = 11
		}
		CONFIG
		{
			name = LiquidH2+LiquidOxygen
			maxThrust = 500
			heatProduction = 300
			PROPELLANT
			{
				name = LiquidH2
				ratio = 0.7
				DrawGauge = True
			}
			PROPELLANT
			{
				name = LiquidOxygen
				ratio = 0.3
				DrawGauge = True
			}
			PROPELLANT
			{
				name = nuclearFuel
				ratio = 0.0000000001
			}
			atmosphereCurve
			{
				key = 0 485
				key = 1 290
			}
			massMult = 11
		}
	}
	MODULE
	{
		name = ModuleAlternator
		OUTPUT_RESOURCE
		{
			name = nuclearFuel
			rate = 0.000000000000000015
		}
		OUTPUT_RESOURCE
		{
			name = nuclearWaste
			rate = 0.000000000000000015
		}
		OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 15.0
		}
	}

	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = true

		OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 7.5
		}
		OUTPUT_RESOURCE
		{
			name = nuclearWaste
			rate = 0.000000000000000015
		}

		INPUT_RESOURCE
		{
			name = nuclearFuel
			rate = 0.000000000000000015
		}
	}



	RESOURCE
	{
		name = nuclearFuel
		amount = 16
		maxAmount = 16
	}

	RESOURCE
	{
		name = nuclearWaste
		amount = 0
		maxAmount = 16
	}

	RESOURCE
	{
		name = ElectricCharge
		amount = 0
		maxAmount = 0
	}
}